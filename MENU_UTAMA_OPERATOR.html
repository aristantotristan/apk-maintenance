<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Menu Utama - AKG Maintenance</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <style>
        :root {
            --primary-red: #c62828;
            --dark-red: #8e0000;
            --bg-white: #ffffff;
            --text-black: #000000;
            --nav-bg: #1a1a1a;
        }

        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
            font-family: 'Poppins', sans-serif; 
            -webkit-tap-highlight-color: transparent; 
        }

        body {
            background: var(--bg-white);
            height: 100vh;
            width: 100vw;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        /* --- HEADER --- */
        .header {
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: absolute;
            top: 0;
            width: 100%;
            z-index: 50;
        }

        .hamburger-btn {
            font-size: 28px;
            color: var(--primary-red);
            background: none;
            border: none;
            cursor: pointer;
            z-index: 60;
        }

        .header-pill {
            background: black;
            padding: 8px 30px;
            border-radius: 50px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            margin: 0 auto;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            width: 65%;
            text-align: center;
        }

        .header-title {
            color: #ff3333;
            font-weight: 800;
            font-size: 16px;
            letter-spacing: 1px;
            text-shadow: 0 0 10px rgba(255, 51, 51, 0.6);
            text-transform: uppercase;
        }

        /* --- MAIN SLIDER CONTENT --- */
        .slider-container {
            flex: 1;
            display: flex;
            overflow-x: auto;
            scroll-snap-type: x mandatory;
            scroll-behavior: smooth;
            height: 100%;
            width: 100%;
            -ms-overflow-style: none;  
            scrollbar-width: none;  
        }

        .slider-container::-webkit-scrollbar { display: none; }

        .slide-item {
            min-width: 100vw;
            height: 100%;
            scroll-snap-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding-bottom: 180px; /* Space for bottom nav */
            position: relative;
        }

        .character-img {
            height: 38vh;
            max-height: 380px;
            object-fit: contain;
            margin-bottom: 25px;
            filter: drop-shadow(0 15px 20px rgba(0,0,0,0.15));
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        /* Style Tombol Menu */
        .action-btn {
            background: var(--primary-red);
            color: white;
            width: 85%;
            max-width: 300px;
            padding: 16px 20px;
            border-radius: 50px;
            text-decoration: none;
            text-align: center;
            font-weight: 700;
            font-size: 15px;
            box-shadow: 0 6px 0 var(--dark-red), 0 15px 25px rgba(198, 40, 40, 0.3);
            border: 2px solid black;
            transition: transform 0.1s;
            position: relative;
            z-index: 10;
            line-height: 1.3;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .action-btn:active {
            transform: translateY(4px);
            box-shadow: 0 2px 0 var(--dark-red), 0 5px 10px rgba(0,0,0,0.2);
        }

        /* --- BOTTOM NAV (ROTATING WHEEL REFINED) --- */
        .bottom-nav-container {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 170px; /* Tinggi area navigasi */
            overflow: hidden;
            z-index: 40;
            pointer-events: none;
        }

        /* Latar Merah Melengkung (Statis di background sebagai frame) */
        .nav-arc-frame {
            position: absolute;
            bottom: -280px;
            left: 50%;
            transform: translateX(-50%);
            width: 600px;
            height: 600px;
            border-radius: 50%;
            background: var(--primary-red);
            border: 8px solid #222;
            box-shadow: inset 0 10px 30px rgba(0,0,0,0.4);
        }

        /* Wadah Angka yang Berputar */
        .wheel-rotator {
            position: absolute;
            bottom: -280px; /* Harus sama dengan nav-arc-frame */
            left: 50%;
            width: 600px;
            height: 600px;
            border-radius: 50%;
            transform: translateX(-50%);
            transform-origin: center center;
            transition: transform 0.4s cubic-bezier(0.1, 0.7, 0.1, 1);
            pointer-events: auto;
        }

        /* Garis-garis kecil (Ticks) */
        .tick-mark {
            position: absolute;
            top: 15px;
            left: 50%;
            width: 2px;
            height: 8px;
            background: rgba(255,255,255,0.3);
            transform-origin: center 285px; /* radius wheel (300) - top offset (15) */
        }

        /* Angka */
        .arc-btn {
            position: absolute;
            top: 25px; /* Sedikit dibawah tick mark */
            left: 50%;
            width: 40px;
            height: 40px;
            margin-left: -20px;
            color: rgba(255,255,255,0.4);
            font-weight: 700;
            font-size: 16px;
            text-decoration: none;
            display: flex;
            align-items: center;
            justify-content: center;
            transform-origin: center 275px; /* radius 300 - top 25 */
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Poppins', monospace; /* Monospace agar lebar angka konsisten */
        }

        .arc-btn.active {
            color: #fff;
            font-size: 26px;
            font-weight: 900;
            text-shadow: 0 2px 10px rgba(0,0,0,0.5);
            transform: scale(1.2); /* Efek pop */
        }

        /* --- CENTER CONTROL (GESER) REFINED --- */
        .center-control {
            position: absolute;
            bottom: -50px; /* Turunkan setengah lingkaran putih */
            left: 50%;
            transform: translateX(-50%);
            width: 160px;
            height: 160px;
            background: white;
            border-radius: 50%;
            z-index: 50;
            display: flex;
            align-items: flex-start; /* Konten di bagian atas lingkaran */
            justify-content: center;
            padding-top: 25px;
            box-shadow: 0 -5px 25px rgba(0,0,0,0.15);
            pointer-events: auto;
        }

        .arrow-pill {
            background: var(--primary-red);
            padding: 8px 25px;
            border-radius: 30px; /* Bentuk Pill lebih rapi dari polygon kasar */
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 4px 10px rgba(198, 40, 40, 0.4);
            border: 2px solid white; /* Outline putih agar kontras */
        }

        .geser-text {
            color: white;
            font-weight: 800;
            text-transform: uppercase;
            font-size: 13px;
            letter-spacing: 0.5px;
        }

        .arrow-icon {
            color: white;
            font-size: 12px;
            animation: bounce-x 1.5s infinite;
        }
        
        .arrow-icon.left { animation-delay: 0s; }
        .arrow-icon.right { animation-delay: 0.5s; }

        @keyframes bounce-x {
            0%, 100% { transform: translateX(0); opacity: 0.7; }
            50% { transform: translateX(2px); opacity: 1; }
        }

        /* Sidebar Styles */
        .sidebar-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.5); z-index: 99;
            opacity: 0; visibility: hidden; transition: 0.3s;
        }
        .sidebar-overlay.active { opacity: 1; visibility: visible; }

        .sidebar {
            position: fixed; top: 20%; left: 20px; width: 200px;
            background: #b71c1c; border: 3px solid black; padding: 20px 10px;
            display: flex; flex-direction: column; gap: 15px;
            z-index: 100; transform: translateX(-150%);
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 10px 10px 0px rgba(0,0,0,0.2);
        }
        .sidebar.active { transform: translateX(0); }

        .sidebar-btn {
            background: transparent; border: 2px solid white;
            border-radius: 30px; padding: 10px 15px;
            color: white; text-decoration: none;
            display: flex; align-items: center; gap: 12px;
            font-weight: 700; font-size: 12px; text-transform: uppercase;
        }
        .sidebar-btn:hover { background: white; color: var(--primary-red); }
        .sidebar-icon-circle {
            width: 30px; height: 30px;
            background: rgba(255,255,255,0.2); border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
        }
        .sidebar-btn:hover .sidebar-icon-circle { background: var(--primary-red); color: white; }

        .page-indicator {
            position: absolute; top: 70px; width: 100%;
            text-align: center; color: #aaa; font-size: 11px; font-weight: 600; z-index: 5; letter-spacing: 1px;
        }
    </style>
</head>
<body>

    <!-- Sidebar Menu -->
    <div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleMenu()"></div>
    <div class="sidebar" id="sidebar">
        <a href="index.html" class="sidebar-btn"><div class="sidebar-icon-circle"><i class="fa-solid fa-house"></i></div>HOME</a>
        <a href="menu_utama.html" class="sidebar-btn active"><div class="sidebar-icon-circle"><i class="fa-solid fa-table-cells-large"></i></div>MENU UTAMA</a>
        <a href="download_data.html" class="sidebar-btn"><div class="sidebar-icon-circle"><i class="fa-solid fa-cloud-arrow-down"></i></div>UNDUH DATA</a>
        <a href="informasi_akun.html" class="sidebar-btn"><div class="sidebar-icon-circle"><i class="fa-solid fa-user"></i></div>AKUN</a>
    </div>

    <!-- Header -->
    <header class="header">
        <button class="hamburger-btn" onclick="toggleMenu()"><i class="fa-solid fa-bars"></i></button>
        <div class="header-pill"><span class="header-title">MENU UTAMA</span></div>
        <div style="width: 28px;"></div>
    </header>

    <div class="page-indicator">GESER KE KANAN / KIRI</div>

    <!-- MAIN SLIDER (10 Items) -->
    <div class="slider-container" id="mainSlider">
        
        <!-- 1. Harian Mesin -->
        <div class="slide-item">
            <img src="gambar_1.png" alt="Worker 1" class="character-img" onerror="this.src='https://cdn-icons-png.flaticon.com/512/4807/4807695.png'">
            <a href="clhmi.html" class="action-btn">Checklist Harian <br> Mesin Injection</a>
        </div>

        <!-- 2. Harian Robot -->
        <div class="slide-item">
            <img src="gambar_2.png" alt="Worker 2" class="character-img" onerror="this.src='https://cdn-icons-png.flaticon.com/512/3884/3884851.png'">
            <a href="chslr.html" class="action-btn">Checklist Harian <br> Robot & Stand Label</a>
        </div>

        <!-- 3. Pekerjaan Workshop -->
        <div class="slide-item">
            <img src="gambar_3.png" alt="Worker 3" class="character-img" onerror="this.src='https://cdn-icons-png.flaticon.com/512/1650/1650365.png'">
            <a href="ppw.html" class="action-btn">Pelaksanaan <br> Pekerjaan Workshop</a>
        </div>

        <!-- 4. Laporan Kerja -->
        <div class="slide-item">
            <img src="gambar_4.png" alt="Worker 4" class="character-img" onerror="this.src='https://cdn-icons-png.flaticon.com/512/2040/2040946.png'">
            <a href="Lkmr.html" class="action-btn">Laporan Kerja <br> Maintenance & Repair</a>
        </div>

        <!-- 5. Preventif Injection -->
        <div class="slide-item">
            <img src="gambar_5.png" alt="Worker 5" class="character-img" onerror="this.src='https://cdn-icons-png.flaticon.com/512/3048/3048122.png'">
            <a href="pmi.html" class="action-btn">Preventif Bulanan <br> Mesin Injection</a>
        </div>

        <!-- 6. Preventif Robot -->
        <div class="slide-item">
            <img src="gambar_6.png" alt="Worker 6" class="character-img" onerror="this.src='https://cdn-icons-png.flaticon.com/512/3884/3884865.png'">
            <a href="prslb.html" class="action-btn">Preventif Bulanan <br> Robot & Label</a>
        </div>

        <!-- 7. Laporan Overhaul -->
        <div class="slide-item">
            <img src="gambar_7.png" alt="Worker 7" class="character-img" onerror="this.src='https://cdn-icons-png.flaticon.com/512/1995/1995470.png'">
            <a href="pohm.html" class="action-btn">Form Laporan <br> Perawatan & Overhaul</a>
        </div>

        <!-- 8. Perawatan Mold -->
        <div class="slide-item">
            <img src="gambar_8.png" alt="Worker 8" class="character-img" onerror="this.src='https://cdn-icons-png.flaticon.com/512/4661/4661334.png'">
            <a href="clpm.html" class="action-btn">Checklist <br> Perawatan Mold</a>
        </div>

        <!-- 9. Jadwal Overhaul -->
        <div class="slide-item">
            <img src="gambar_9.png" alt="Worker 9" class="character-img" onerror="this.src='https://cdn-icons-png.flaticon.com/512/2829/2829827.png'">
            <a href="Jpdo.html" class="action-btn">Jadwal Perawatan <br> Dan Overhaul</a>
        </div>

        <!-- 10. Kartu Riwayat -->
        <div class="slide-item">
            <img src="gambar_10.png" alt="Worker 10" class="character-img" onerror="this.src='https://cdn-icons-png.flaticon.com/512/2641/2641409.png'">
            <a href="kartu_riwayat.html" class="action-btn">Kartu Riwayat <br> Mesin</a>
        </div>

    </div>

    <!-- BOTTOM NAV (WHEEL UI REFINED) -->
    <div class="bottom-nav-container">
        
        <div class="nav-arc-frame">
            <!-- Rotator berisi angka dan garis -->
            <div class="wheel-rotator" id="wheel">
                <!-- Javascript will populate lines and numbers here -->
                
                <!-- Angka 1-10 -->
                <div class="arc-btn" onclick="scrollToSlide(0)" style="--i:0">1</div>
                <div class="arc-btn" onclick="scrollToSlide(1)" style="--i:1">2</div>
                <div class="arc-btn" onclick="scrollToSlide(2)" style="--i:2">3</div>
                <div class="arc-btn" onclick="scrollToSlide(3)" style="--i:3">4</div>
                <div class="arc-btn" onclick="scrollToSlide(4)" style="--i:4">5</div>
                <div class="arc-btn" onclick="scrollToSlide(5)" style="--i:5">6</div>
                <div class="arc-btn" onclick="scrollToSlide(6)" style="--i:6">7</div>
                <div class="arc-btn" onclick="scrollToSlide(7)" style="--i:7">8</div>
                <div class="arc-btn" onclick="scrollToSlide(8)" style="--i:8">9</div>
                <div class="arc-btn" onclick="scrollToSlide(9)" style="--i:9">10</div>

                <!-- Tick marks (garis kecil) between numbers -->
                <!-- Kita akan generate via JS untuk presisi, atau manual di sini -->
                <!-- Manual ticks di antara angka -->
                <div class="tick-mark" style="--i:0.5"></div>
                <div class="tick-mark" style="--i:1.5"></div>
                <div class="tick-mark" style="--i:2.5"></div>
                <div class="tick-mark" style="--i:3.5"></div>
                <div class="tick-mark" style="--i:4.5"></div>
                <div class="tick-mark" style="--i:5.5"></div>
                <div class="tick-mark" style="--i:6.5"></div>
                <div class="tick-mark" style="--i:7.5"></div>
                <div class="tick-mark" style="--i:8.5"></div>
                <div class="tick-mark" style="--i:9.5"></div>

            </div>
        </div>

        <!-- Tombol Geser Timbul -->
        <div class="center-control">
            <div class="arrow-pill">
                <i class="fa-solid fa-chevron-left arrow-icon left"></i>
                <span class="geser-text">GESER</span>
                <i class="fa-solid fa-chevron-right arrow-icon right"></i>
            </div>
        </div>
    </div>

    <script>
        function toggleMenu() {
            document.getElementById('sidebar').classList.toggle('active');
            document.getElementById('sidebarOverlay').classList.toggle('active');
        }

        const slider = document.getElementById('mainSlider');
        const wheel = document.getElementById('wheel');
        const arcBtns = document.querySelectorAll('.arc-btn');
        const tickMarks = document.querySelectorAll('.tick-mark');
        
        // Konfigurasi Roda
        const ANGLE_PER_ITEM = 24; // Jarak antar angka (Derajat)
        const TICK_OFFSET = ANGLE_PER_ITEM / 2; // Tick berada di tengah-tengah angka

        // Inisialisasi Posisi Angka
        arcBtns.forEach((btn, index) => {
            const angle = index * ANGLE_PER_ITEM; 
            // Putar posisi wrapper
            btn.style.transform = `rotate(${angle}deg) translate(0, 0)`; // Reset transform basis
            // Trik CSS: Kita putar elemen induknya (melalui style inline rotate)
            // Namun karena kita pakai satu div rotator, kita set properti CSS transform via JS
            
            // Simpan index original untuk referensi rotasi statis
            btn.style.transform = `rotate(${angle}deg)`;
            
            // Agar angka tetap tegak (opsional, tapi gauge style biasanya angka miring mengikuti kurva)
            // Jika ingin tegak: btn.innerHTML = `<span style="transform: rotate(${-angle}deg); display:block;">${index+1}</span>`;
        });

        // Inisialisasi Posisi Tick Marks
        tickMarks.forEach((tick, index) => {
            // Kita ambil nilai style --i dari HTML (0.5, 1.5 dst)
            const val = parseFloat(tick.getAttribute('style').replace('--i:', ''));
            const angle = val * ANGLE_PER_ITEM;
            tick.style.transform = `rotate(${angle}deg)`;
        });

        function scrollToSlide(index) {
            const width = slider.clientWidth;
            slider.scrollTo({
                left: width * index,
                behavior: 'smooth'
            });
        }

        function updateWheel() {
            const scrollLeft = slider.scrollLeft;
            const width = slider.clientWidth;
            
            // Menghindari pembagian dengan 0 saat loading awal
            if (width === 0) return;

            const scrollProgress = scrollLeft / width; 
            
            // Logika Rotasi:
            // Roda berputar ke kiri (negatif) saat kita geser ke kanan (angka bertambah)
            // Tujuannya agar angka yang aktif selalu berada di posisi jam 12 (0 derajat relatif terhadap layar)
            const rotation = -(scrollProgress * ANGLE_PER_ITEM);
            
            wheel.style.transform = `translateX(-50%) rotate(${rotation}deg)`;

            // Update Active State
            const activeIndex = Math.round(scrollProgress);
            
            arcBtns.forEach((btn, i) => {
                // Hapus style transform inline lama yang hanya rotasi statis
                // Kita ganti dengan scale effect jika aktif
                
                const baseAngle = i * ANGLE_PER_ITEM;
                
                if (i === activeIndex) {
                    btn.classList.add('active');
                    // Saat aktif, scale up tapi tetap pertahankan posisi rotasinya
                    btn.style.transform = `rotate(${baseAngle}deg) scale(1.4)`;
                    btn.style.zIndex = 10;
                } else {
                    btn.classList.remove('active');
                    btn.style.transform = `rotate(${baseAngle}deg) scale(1)`;
                    btn.style.zIndex = 1;
                }
            });
        }

        slider.addEventListener('scroll', () => {
            requestAnimationFrame(updateWheel);
        });
        
        // Initial call
        updateWheel();
        
        // Re-calculate on resize
        window.addEventListener('resize', updateWheel);

    </script>
</body>
</html>
