<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Menu Utama - AKG Maintenance</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <style>
        :root {
            --primary-red: #c62828;
            --gradient-red: linear-gradient(135deg, #d32f2f, #b71c1c);
            --bg-white: #ffffff;
            --text-dark: #1f2937;
            --shadow-soft: 0 10px 25px -5px rgba(183, 28, 28, 0.4);
        }

        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
            font-family: 'Poppins', sans-serif; 
            -webkit-tap-highlight-color: transparent; 
            user-select: none;
            -webkit-user-select: none;
        }

        body {
            background: #111; 
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            /* Mencegah overscroll pada browser desktop */
            overscroll-behavior: none;
        }

        /* --- FRAME RESPONSIF (INTI LOGIKA LAYOUT) --- */
        .mobile-frame {
            position: relative;
            background: #f8fafc;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            box-shadow: 0 0 60px rgba(0,0,0,0.6);
        }

        /* TAMPILAN HP (Layar < 500px) */
        @media (max-width: 500px) {
            .mobile-frame {
                width: 100vw;
                height: 100dvh; /* Dynamic viewport height untuk browser HP modern */
                border-radius: 0;
                border: none;
            }
        }

        /* TAMPILAN TABLET & LAPTOP (Layar >= 500px) */
        @media (min-width: 501px) {
            .mobile-frame {
                width: 100%;
                max-width: 400px; /* Lebar ideal proporsi HP */
                height: 90vh;     /* 90% tinggi layar laptop */
                max-height: 850px;
                border-radius: 40px; /* Sudut membulat estetik */
                border: 8px solid #2d2d2d; /* Bingkai HP */
            }
        }

        /* --- HEADER --- */
        .header {
            padding: 30px 25px 10px 25px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 50;
        }

        .hamburger-btn {
            font-size: 28px;
            color: var(--primary-red);
            background: none;
            border: none;
            cursor: pointer;
            transition: transform 0.2s;
        }
        .hamburger-btn:active { transform: scale(0.9); }

        /* Header Putih Clean */
        .header-capsule {
            background: #ffffff;
            padding: 12px 0;
            width: 55%;
            border-radius: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            border: 1px solid rgba(0,0,0,0.05);
        }

        .header-title {
            color: #b71c1c;
            font-weight: 800;
            font-size: 15px;
            letter-spacing: 1px;
            text-transform: uppercase;
        }

        /* --- SLIDER AREA --- */
        .slider-wrapper {
            flex: 1;
            display: flex;
            overflow-x: auto;
            scroll-snap-type: x mandatory;
            scroll-behavior: smooth;
            -ms-overflow-style: none;  
            scrollbar-width: none; 
            position: relative;
            z-index: 10;
            cursor: grab;
            /* Penting untuk performa touch */
            touch-action: pan-x; 
        }
        .slider-wrapper:active { cursor: grabbing; }
        .slider-wrapper::-webkit-scrollbar { display: none; }

        .slide {
            min-width: 100%;
            height: 100%;
            scroll-snap-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            /* Padding bawah disesuaikan agar tidak tertutup gauge */
            padding-bottom: 240px; 
        }

        .char-img {
            height: 35vh; /* Menggunakan vh agar responsif terhadap tinggi layar */
            max-height: 320px;
            min-height: 200px; /* Mencegah gambar terlalu kecil di layar pendek */
            object-fit: contain;
            margin-bottom: 30px;
            filter: drop-shadow(0 10px 15px rgba(0,0,0,0.1));
            animation: float 4s ease-in-out infinite;
            pointer-events: none;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-6px); }
        }

        /* --- MODERN MENU BUTTON --- */
        .menu-btn {
            background: var(--gradient-red);
            color: white;
            width: 82%;
            max-width: 300px;
            padding: 18px 25px;
            border-radius: 20px;
            text-decoration: none;
            text-align: center;
            font-weight: 600;
            font-size: 15px;
            letter-spacing: 0.5px;
            line-height: 1.4;
            border: none;
            box-shadow: var(--shadow-soft);
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            position: relative;
            z-index: 20;
            pointer-events: auto;
            border-top: 1px solid rgba(255,255,255,0.2);
        }

        .menu-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 30px -5px rgba(183, 28, 28, 0.5);
        }
        .menu-btn:active {
            transform: translateY(1px) scale(0.98);
        }

        /* --- NAVIGASI BAWAH (FULL SEMI-CIRCLE) --- */
        .bottom-gauge-container {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 220px; 
            overflow: hidden;
            z-index: 30;
            pointer-events: none;
        }

        /* Busur Merah Bulat Penuh */
        .gauge-arc {
            position: absolute;
            bottom: -210px; 
            left: 50%;
            transform: translateX(-50%);
            width: 420px; 
            height: 420px;
            border-radius: 50%;
            background: #d32f2f;
            border: 6px solid #fff;
            box-shadow: 0 -5px 30px rgba(0,0,0,0.2);
            pointer-events: auto;
            display: flex;
            justify-content: center;
        }

        /* Garis Pemisah */
        .gauge-divider {
            position: absolute;
            top: 2px;
            left: 50%;
            width: 1px;
            height: 25px;
            background: rgba(255,255,255,0.4);
            transform-origin: center 205px; 
            z-index: 2;
        }

        /* Angka */
        .number-wrapper {
            position: absolute;
            top: 0;
            left: 50%;
            width: 0;
            height: 210px;
            transform-origin: bottom center;
            z-index: 3;
            pointer-events: none;
            display: flex;
            justify-content: center;
        }

        .gauge-number {
            margin-top: 10px;
            color: rgba(255,255,255,0.6);
            font-weight: 600;
            font-size: 16px;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .gauge-number.active {
            color: #fff;
            font-size: 24px;
            font-weight: 800;
            text-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }

        /* Overlay Putih Tengah */
        .center-white-overlay {
            position: absolute;
            bottom: -125px; 
            left: 50%;
            transform: translateX(-50%);
            width: 250px;
            height: 250px;
            background: #f8fafc;
            border-radius: 50%;
            z-index: 40;
            display: flex;
            justify-content: center;
            padding-top: 35px;
            box-shadow: 0 -5px 15px rgba(0,0,0,0.08);
        }

        /* Tombol Geser */
        .geser-shape {
            width: 120px;
            height: 44px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .double-arrow-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--primary-red);
            clip-path: polygon(15% 0%, 85% 0%, 100% 50%, 85% 100%, 15% 100%, 0% 50%);
            z-index: 1;
            background: linear-gradient(to right, #b71c1c, #d32f2f, #b71c1c);
        }

        .geser-text {
            position: relative;
            z-index: 2;
            color: white;
            font-weight: 700;
            font-size: 13px;
            text-transform: uppercase;
            letter-spacing: 1.5px;
        }

        .arrow-icon-small {
            position: relative;
            z-index: 2;
            color: white;
            font-size: 11px;
            margin: 0 10px;
            opacity: 0.8;
        }

        /* --- SIDEBAR MENU (Modern) --- */
        .sidebar-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.4); z-index: 90;
            opacity: 0; visibility: hidden; transition: 0.3s;
            backdrop-filter: blur(4px);
        }
        .sidebar-overlay.active { opacity: 1; visibility: visible; }

        .sidebar {
            position: absolute; 
            top: 0; left: 0; width: 280px; height: 100%;
            background: #b71c1c; 
            padding: 80px 20px;
            display: flex; flex-direction: column; gap: 12px;
            z-index: 95; transform: translateX(-100%);
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 10px 0 30px rgba(0,0,0,0.2);
        }
        .sidebar.active { transform: translateX(0); }

        .sidebar-link {
            display: flex; align-items: center; gap: 15px;
            padding: 14px 20px;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 12px;
            color: white;
            text-decoration: none;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.2s;
        }
        .sidebar-link:hover, .sidebar-link.active {
            background: white;
            color: #b71c1c;
            border-color: white;
            transform: translateX(5px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .close-sidebar-btn {
            position: absolute; top: 25px; right: 25px;
            background: none; border: none; color: white;
            font-size: 24px; cursor: pointer; opacity: 0.8;
        }
    </style>
</head>
<body>

    <!-- Container Utama: Menyesuaikan diri dengan perangkat -->
    <div class="mobile-frame">
        
        <!-- Sidebar -->
        <div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleMenu()"></div>
        <div class="sidebar" id="sidebar">
            <button class="close-sidebar-btn" onclick="toggleMenu()"><i class="fa-solid fa-xmark"></i></button>
            <a href="index.html" class="sidebar-link"><i class="fa-solid fa-house"></i> Home</a>
            <a href="menu_utama.html" class="sidebar-link active"><i class="fa-solid fa-table-cells-large"></i> Menu Utama</a>
            <a href="download_data.html" class="sidebar-link"><i class="fa-solid fa-cloud-arrow-down"></i> Unduh Data</a>
            <a href="informasi_akun.html" class="sidebar-link"><i class="fa-solid fa-user"></i> Akun</a>
        </div>

        <!-- Header -->
        <header class="header">
            <button class="hamburger-btn" onclick="toggleMenu()"><i class="fa-solid fa-bars"></i></button>
            <div class="header-capsule">
                <span class="header-title">MENU UTAMA</span>
            </div>
            <div style="width: 28px;"></div>
        </header>

        <!-- Slider -->
        <div class="slider-wrapper" id="mainSlider">
            <!-- 1 -->
            <div class="slide">
                <img src="gambar_1.png" class="char-img" onerror="this.src='https://cdn-icons-png.flaticon.com/512/4807/4807695.png'">
                <a href="clhmi.html" class="menu-btn">Checklist Harian <br> Mesin Injection</a>
            </div>
            <!-- 2 -->
            <div class="slide">
                <img src="gambar_2.png" class="char-img" onerror="this.src='https://cdn-icons-png.flaticon.com/512/3884/3884851.png'">
                <a href="chslr.html" class="menu-btn">Checklist Harian <br> Robot & Stand Label</a>
            </div>
            <!-- 3 -->
            <div class="slide">
                <img src="gambar_3.png" class="char-img" onerror="this.src='https://cdn-icons-png.flaticon.com/512/1650/1650365.png'">
                <a href="ppw.html" class="menu-btn">Pelaksanaan <br> Pekerjaan Workshop</a>
            </div>
            <!-- 4 -->
            <div class="slide">
                <img src="gambar_4.png" class="char-img" onerror="this.src='https://cdn-icons-png.flaticon.com/512/2040/2040946.png'">
                <a href="Lkmr.html" class="menu-btn">Laporan Kerja <br> Maintenance & Repair</a>
            </div>
            <!-- 5 -->
            <div class="slide">
                <img src="gambar_5.png" class="char-img" onerror="this.src='https://cdn-icons-png.flaticon.com/512/3048/3048122.png'">
                <a href="pmi.html" class="menu-btn">Preventif Bulanan <br> Mesin Injection</a>
            </div>
            <!-- 6 -->
            <div class="slide">
                <img src="gambar_6.png" class="char-img" onerror="this.src='https://cdn-icons-png.flaticon.com/512/3884/3884865.png'">
                <a href="prslb.html" class="menu-btn">Preventif Bulanan <br> Robot & Label</a>
            </div>
            <!-- 7 -->
            <div class="slide">
                <img src="gambar_7.png" class="char-img" onerror="this.src='https://cdn-icons-png.flaticon.com/512/1995/1995470.png'">
                <a href="pohm.html" class="menu-btn">Form Laporan <br> Perawatan & Overhaul</a>
            </div>
            <!-- 8 -->
            <div class="slide">
                <img src="gambar_8.png" class="char-img" onerror="this.src='https://cdn-icons-png.flaticon.com/512/4661/4661334.png'">
                <a href="clpm.html" class="menu-btn">Checklist <br> Perawatan Mold</a>
            </div>
            <!-- 9 -->
            <div class="slide">
                <img src="gambar_9.png" class="char-img" onerror="this.src='https://cdn-icons-png.flaticon.com/512/2829/2829827.png'">
                <a href="Jpdo.html" class="menu-btn">Jadwal Perawatan <br> Dan Overhaul</a>
            </div>
            <!-- 10 -->
            <div class="slide">
                <img src="gambar_10.png" class="char-img" onerror="this.src='https://cdn-icons-png.flaticon.com/512/2641/2641409.png'">
                <a href="kartu_riwayat.html" class="menu-btn">Kartu Riwayat <br> Mesin</a>
            </div>
        </div>

        <!-- Gauge Navigasi -->
        <div class="bottom-gauge-container">
            <div class="gauge-arc" id="gaugeWheel"></div>
            <div class="center-white-overlay">
                <div class="geser-shape">
                    <div class="double-arrow-bg"></div>
                    <i class="fa-solid fa-chevron-left arrow-icon-small"></i>
                    <span class="geser-text">GESER</span>
                    <i class="fa-solid fa-chevron-right arrow-icon-small"></i>
                </div>
            </div>
        </div>

    </div>

    <script>
        function toggleMenu() {
            document.getElementById('sidebar').classList.toggle('active');
            document.getElementById('sidebarOverlay').classList.toggle('active');
        }

        const slider = document.getElementById('mainSlider');
        const gaugeWheel = document.getElementById('gaugeWheel');
        const totalSlides = 10;
        
        // Konfigurasi Gauge
        const segmentAngle = 36; // Sudut antar angka
        
        // 1. Render Angka
        for (let i = 0; i < totalSlides; i++) {
            const angle = i * segmentAngle;
            
            const numWrapper = document.createElement('div');
            numWrapper.className = 'number-wrapper';
            numWrapper.style.transform = `rotate(${angle}deg)`;
            
            const numSpan = document.createElement('div');
            numSpan.className = 'gauge-number';
            numSpan.innerText = i + 1;
            
            numWrapper.appendChild(numSpan);
            gaugeWheel.appendChild(numWrapper);

            // Divider
            const divAngle = angle + (segmentAngle / 2);
            if (i < totalSlides - 1) { 
                const divider = document.createElement('div');
                divider.className = 'gauge-divider';
                divider.style.transform = `rotate(${divAngle}deg)`;
                gaugeWheel.appendChild(divider);
            }
        }

        // 2. Logic Update Gauge
        function updateGauge() {
            const scrollLeft = slider.scrollLeft;
            const width = slider.clientWidth;
            if (width === 0) return;

            const progress = scrollLeft / width; 
            
            const wheelRotation = -(progress * segmentAngle);
            gaugeWheel.style.transform = `translateX(-50%) rotate(${wheelRotation}deg)`;

            const activeIndex = Math.round(progress);
            const numbers = document.querySelectorAll('.gauge-number');
            
            numbers.forEach((num, index) => {
                const itemAngle = index * segmentAngle;
                const counterRotation = - (itemAngle + wheelRotation);
                
                let scale = 1;
                let color = 'rgba(255,255,255,0.6)';
                let weight = '600';
                
                if (index === activeIndex) {
                    scale = 1.4;
                    color = '#fff';
                    weight = '800';
                }

                num.style.transform = `rotate(${counterRotation}deg) scale(${scale})`;
                num.style.color = color;
                num.style.fontWeight = weight;
            });
        }

        slider.addEventListener('scroll', () => {
            requestAnimationFrame(updateGauge);
        });

        // 3. Logic Drag to Scroll (Mouse - Laptop)
        let isDown = false;
        let startX;
        let scrollLeft;

        slider.addEventListener('mousedown', (e) => {
            isDown = true;
            slider.style.cursor = 'grabbing';
            startX = e.pageX - slider.offsetLeft;
            scrollLeft = slider.scrollLeft;
            slider.style.scrollSnapType = 'none'; // Disable snap saat drag biar smooth
        });

        slider.addEventListener('mouseleave', () => {
            if(isDown) {
                isDown = false;
                slider.style.cursor = 'grab';
                slider.style.scrollSnapType = 'x mandatory';
                snapToNearest();
            }
        });

        slider.addEventListener('mouseup', () => {
            isDown = false;
            slider.style.cursor = 'grab';
            slider.style.scrollSnapType = 'x mandatory';
            snapToNearest();
        });

        slider.addEventListener('mousemove', (e) => {
            if (!isDown) return;
            e.preventDefault();
            const x = e.pageX - slider.offsetLeft;
            const walk = (x - startX) * 2; // Kecepatan scroll
            slider.scrollLeft = scrollLeft - walk;
        });

        // Helper: Snap manual jika mouse dilepas di tengah-tengah
        function snapToNearest() {
            const width = slider.clientWidth;
            const currentScroll = slider.scrollLeft;
            const nearestSlide = Math.round(currentScroll / width);
            slider.scrollTo({ left: nearestSlide * width, behavior: 'smooth' });
        }

        // Init
        setTimeout(updateGauge, 100); 
        window.addEventListener('resize', updateGauge);
        
    </script>
</body>
</html>
